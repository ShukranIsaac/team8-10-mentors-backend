// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
id Int @default(autoincrement()) @id @unique
firstname String @db.VarChar(255)
lastname String @db.VarChar(255)
avatar String 
followedBy User[]  @relation("UserFollows")
following  User[]  @relation("UserFollows")
inbox inbox?

}



model inbox{
id Int @default(autoincrement())@id
last_message String @db.VarChar(500)
users User @relation(fields: [uid],references: [id])
uid Int @unique
}

model Chat {
chatid Int@id
message String @db.Text
followedBy Chat[]  @relation("ChatFollows")
following  Chat[]  @relation("ChatFollows")
msg message @relation(fields: [mid],references: [messageid])
mid Int @unique
}

model message {
messageid Int @default(autoincrement())@id
body String @db.VarChar(1000)
sent_at DateTime @default(now())
Chat Chat?
}





